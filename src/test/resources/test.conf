input {
    loghub.receivers.ZMQ {
        listen: "tcp://localhost:2120",
        decoder: loghub.decoders.Log4j
    }
} | $main
output $oneref | { loghub.senders.ElasticSearch }

pipeline[oneref] { loghub.transformers.Identity }
pipeline[main] {
     loghub.transformers.Identity { threads: 1 } 
    | event.logger_name == "jrds.starter.Timer" ? loghub.transformers.Log : ( loghub.transformers.Identity | loghub.transformers.Identity) 
    | $oneref
    | loghub.transformers.Identity
}
pipeline [groovy] { loghub.transformers.Groovy { script: "println event['logger_name']" } }
logfile: "machin"
